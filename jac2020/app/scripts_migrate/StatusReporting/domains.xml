<domainModel>

  <actor name='Project Manager'>
    <goal name='Maintain project plan'>
    </goal>
    <goal name='Resource project plan'>
    </goal>
    <goal name='Approve invoices'>
    </goal>
  </actor>

  <actor name='Project Resource'>
    <goal name='Account for time on projects'>
    </goal>
    <goal name='Report time accurately'>
    </goal>
    <goal name='Produce invoices'>
    </goal>
  </actor>

  <useCase name='Record time on project'>

  <survey>
    <category>Describe the events or circumstances which cause this action to commence.</category>
      <question>Who is the primary actor performing this action?
        <answer>
        </answer>
      </question>
      <question>What other primary or secondary actors are involved?
        <answer>
        </answer>
      </question>
      <question>How is the actor notified to start the action?
        <answer>
        </answer>
      </question>
      <question>When must the action commence?
        <answer>
        </answer>
      </question>
      <question>What are the constraints for scheduling and completing the action?
        <answer>
        </answer>
      </question>
      <question>What dependencies exist between this action and other actions?
        <answer>
        </answer>
      </question>
      <question>What conditions or constraints must be satisfied prior to commencing this action?
        <answer>
        </answer>
      </question>

    <category>What actions are performed by the actor?</category>
      <question>What are the step-by-step procedures or tasks performed by the actor?
        <answer>
        </answer>
      </question>
      <question>What regulations, policies, or procedures are followed or referenced?
        <answer>
        </answer>
      </question>
      <question>What calculations, schedules, computations, or algorithms are involved in completing the action.
        <answer>
        </answer>
      </question>
      <question>What other actors are involved?
        <answer>
        </answer>
      </question>
      <question>What computer systems (besides the target system) are involved?
        <answer>
        </answer>
      </question>
      <question>What decisions are made by the actor?
        <answer>
        </answer>
      </question>
      <question>What exceptional processing or error processing occurs?
        <answer>
        </answer>
      </question>

    <category>What information does the actor contribute?</category>
      <question>What knowledge or skill does the actor posses that's required to complete this action?
        <answer>
        </answer>
      </question>
      <question>What does the actor need to know before completing this action?
        <answer>
        </answer>
      </question>
      <question>How is the actor dependent on other actors to complete this operation?
        <answer>
        </answer>
      </question>
      <question>What does the actor know about other actors or non-actors?
        <answer>
        </answer>
      </question>

    <category>What information does the actor expect to receive?</category>
      <question>What information does the actor receive from the computer system?
        <answer>
        </answer>
      </question>
      <question>What information does the actor receive from other actors?
        <answer>
        </answer>
      </question>

    <category>What are the results of this operation?</category>
      <question>What happens as a result of this operation?
        <answer>
        </answer>
      </question>
      <question>How does data change internally or externally to the system?
        <answer>
        </answer>
      </question>
      <question>What physical changes occur?
        <answer>
        </answer>
      </question>
      <question>What previous values should be retained for historical reference?
        <answer>
        </answer>
      </question>

    <category>What algorithms or processing considerations are involved?</category>
      <question>What calculations are involved in the action?
        <answer>
        </answer>
      </question>
      <question>What special processing (e.g. sorting, matching, schedules) is involved in the action?
        <answer>
        </answer>
      </question>
      <question>How is data transformed or changed?
        <answer>
        </answer>
      </question>
      <question>What data formats are used?
        <answer>
        </answer>
      </question>
      <question>What are the sources for algorithms or schedules (e.g. regulating agencies, professional organizations)?
        <answer>
        </answer>
      </question>

    <category>Should this action be recorded as an event?</category>
      <question>Is this action time sensitive, or does it relate to other time sensitive actions?
        <answer>
        </answer>
      </question>
      <question>Does this action "start the clock?"
        <answer>
        </answer>
      </question>
      <question>Would the recording of this action assist in unrelated actions?
        <answer>
        </answer>
      </question>
      <question>Do performance constraints apply which should be measured for conformance?
        <answer>
        </answer>
      </question>

  </survey>
  </useCase>

  <useCase name='Produce status report'>

  <survey>
    <category>Describe the events or circumstances which cause this action to commence.</category>
      <question>Who is the primary actor performing this action?
        <answer>
        </answer>
      </question>
      <question>What other primary or secondary actors are involved?
        <answer>
        </answer>
      </question>
      <question>How is the actor notified to start the action?
        <answer>
        </answer>
      </question>
      <question>When must the action commence?
        <answer>
        </answer>
      </question>
      <question>What are the constraints for scheduling and completing the action?
        <answer>
        </answer>
      </question>
      <question>What dependencies exist between this action and other actions?
        <answer>
        </answer>
      </question>
      <question>What conditions or constraints must be satisfied prior to commencing this action?
        <answer>
        </answer>
      </question>

    <category>What actions are performed by the actor?</category>
      <question>What are the step-by-step procedures or tasks performed by the actor?
        <answer>
        </answer>
      </question>
      <question>What regulations, policies, or procedures are followed or referenced?
        <answer>
        </answer>
      </question>
      <question>What calculations, schedules, computations, or algorithms are involved in completing the action.
        <answer>
        </answer>
      </question>
      <question>What other actors are involved?
        <answer>
        </answer>
      </question>
      <question>What computer systems (besides the target system) are involved?
        <answer>
        </answer>
      </question>
      <question>What decisions are made by the actor?
        <answer>
        </answer>
      </question>
      <question>What exceptional processing or error processing occurs?
        <answer>
        </answer>
      </question>

    <category>What information does the actor contribute?</category>
      <question>What knowledge or skill does the actor posses that's required to complete this action?
        <answer>
        </answer>
      </question>
      <question>What does the actor need to know before completing this action?
        <answer>
        </answer>
      </question>
      <question>How is the actor dependent on other actors to complete this operation?
        <answer>
        </answer>
      </question>
      <question>What does the actor know about other actors or non-actors?
        <answer>
        </answer>
      </question>

    <category>What information does the actor expect to receive?</category>
      <question>What information does the actor receive from the computer system?
        <answer>
        </answer>
      </question>
      <question>What information does the actor receive from other actors?
        <answer>
        </answer>
      </question>

    <category>What are the results of this operation?</category>
      <question>What happens as a result of this operation?
        <answer>
        </answer>
      </question>
      <question>How does data change internally or externally to the system?
        <answer>
        </answer>
      </question>
      <question>What physical changes occur?
        <answer>
        </answer>
      </question>
      <question>What previous values should be retained for historical reference?
        <answer>
        </answer>
      </question>

    <category>What algorithms or processing considerations are involved?</category>
      <question>What calculations are involved in the action?
        <answer>
        </answer>
      </question>
      <question>What special processing (e.g. sorting, matching, schedules) is involved in the action?
        <answer>
        </answer>
      </question>
      <question>How is data transformed or changed?
        <answer>
        </answer>
      </question>
      <question>What data formats are used?
        <answer>
        </answer>
      </question>
      <question>What are the sources for algorithms or schedules (e.g. regulating agencies, professional organizations)?
        <answer>
        </answer>
      </question>

    <category>Should this action be recorded as an event?</category>
      <question>Is this action time sensitive, or does it relate to other time sensitive actions?
        <answer>
        </answer>
      </question>
      <question>Does this action "start the clock?"
        <answer>
        </answer>
      </question>
      <question>Would the recording of this action assist in unrelated actions?
        <answer>
        </answer>
      </question>
      <question>Do performance constraints apply which should be measured for conformance?
        <answer>
        </answer>
      </question>

  </survey>
  </useCase>

  <useCase name='Produce invoice'>

  <survey>
    <category>Describe the events or circumstances which cause this action to commence.</category>
      <question>Who is the primary actor performing this action?
        <answer>
        </answer>
      </question>
      <question>What other primary or secondary actors are involved?
        <answer>
        </answer>
      </question>
      <question>How is the actor notified to start the action?
        <answer>
        </answer>
      </question>
      <question>When must the action commence?
        <answer>
        </answer>
      </question>
      <question>What are the constraints for scheduling and completing the action?
        <answer>
        </answer>
      </question>
      <question>What dependencies exist between this action and other actions?
        <answer>
        </answer>
      </question>
      <question>What conditions or constraints must be satisfied prior to commencing this action?
        <answer>
        </answer>
      </question>

    <category>What actions are performed by the actor?</category>
      <question>What are the step-by-step procedures or tasks performed by the actor?
        <answer>
        </answer>
      </question>
      <question>What regulations, policies, or procedures are followed or referenced?
        <answer>
        </answer>
      </question>
      <question>What calculations, schedules, computations, or algorithms are involved in completing the action.
        <answer>
        </answer>
      </question>
      <question>What other actors are involved?
        <answer>
        </answer>
      </question>
      <question>What computer systems (besides the target system) are involved?
        <answer>
        </answer>
      </question>
      <question>What decisions are made by the actor?
        <answer>
        </answer>
      </question>
      <question>What exceptional processing or error processing occurs?
        <answer>
        </answer>
      </question>

    <category>What information does the actor contribute?</category>
      <question>What knowledge or skill does the actor posses that's required to complete this action?
        <answer>
        </answer>
      </question>
      <question>What does the actor need to know before completing this action?
        <answer>
        </answer>
      </question>
      <question>How is the actor dependent on other actors to complete this operation?
        <answer>
        </answer>
      </question>
      <question>What does the actor know about other actors or non-actors?
        <answer>
        </answer>
      </question>

    <category>What information does the actor expect to receive?</category>
      <question>What information does the actor receive from the computer system?
        <answer>
        </answer>
      </question>
      <question>What information does the actor receive from other actors?
        <answer>
        </answer>
      </question>

    <category>What are the results of this operation?</category>
      <question>What happens as a result of this operation?
        <answer>
        </answer>
      </question>
      <question>How does data change internally or externally to the system?
        <answer>
        </answer>
      </question>
      <question>What physical changes occur?
        <answer>
        </answer>
      </question>
      <question>What previous values should be retained for historical reference?
        <answer>
        </answer>
      </question>

    <category>What algorithms or processing considerations are involved?</category>
      <question>What calculations are involved in the action?
        <answer>
        </answer>
      </question>
      <question>What special processing (e.g. sorting, matching, schedules) is involved in the action?
        <answer>
        </answer>
      </question>
      <question>How is data transformed or changed?
        <answer>
        </answer>
      </question>
      <question>What data formats are used?
        <answer>
        </answer>
      </question>
      <question>What are the sources for algorithms or schedules (e.g. regulating agencies, professional organizations)?
        <answer>
        </answer>
      </question>

    <category>Should this action be recorded as an event?</category>
      <question>Is this action time sensitive, or does it relate to other time sensitive actions?
        <answer>
        </answer>
      </question>
      <question>Does this action "start the clock?"
        <answer>
        </answer>
      </question>
      <question>Would the recording of this action assist in unrelated actions?
        <answer>
        </answer>
      </question>
      <question>Do performance constraints apply which should be measured for conformance?
        <answer>
        </answer>
      </question>

  </survey>
  </useCase>

  <useCase name='Maintain project information'>

  <survey>
    <category>Describe the events or circumstances which cause this action to commence.</category>
      <question>Who is the primary actor performing this action?
        <answer>
        </answer>
      </question>
      <question>What other primary or secondary actors are involved?
        <answer>
        </answer>
      </question>
      <question>How is the actor notified to start the action?
        <answer>
        </answer>
      </question>
      <question>When must the action commence?
        <answer>
        </answer>
      </question>
      <question>What are the constraints for scheduling and completing the action?
        <answer>
        </answer>
      </question>
      <question>What dependencies exist between this action and other actions?
        <answer>
        </answer>
      </question>
      <question>What conditions or constraints must be satisfied prior to commencing this action?
        <answer>
        </answer>
      </question>

    <category>What actions are performed by the actor?</category>
      <question>What are the step-by-step procedures or tasks performed by the actor?
        <answer>
        </answer>
      </question>
      <question>What regulations, policies, or procedures are followed or referenced?
        <answer>
        </answer>
      </question>
      <question>What calculations, schedules, computations, or algorithms are involved in completing the action.
        <answer>
        </answer>
      </question>
      <question>What other actors are involved?
        <answer>
        </answer>
      </question>
      <question>What computer systems (besides the target system) are involved?
        <answer>
        </answer>
      </question>
      <question>What decisions are made by the actor?
        <answer>
        </answer>
      </question>
      <question>What exceptional processing or error processing occurs?
        <answer>
        </answer>
      </question>

    <category>What information does the actor contribute?</category>
      <question>What knowledge or skill does the actor posses that's required to complete this action?
        <answer>
        </answer>
      </question>
      <question>What does the actor need to know before completing this action?
        <answer>
        </answer>
      </question>
      <question>How is the actor dependent on other actors to complete this operation?
        <answer>
        </answer>
      </question>
      <question>What does the actor know about other actors or non-actors?
        <answer>
        </answer>
      </question>

    <category>What information does the actor expect to receive?</category>
      <question>What information does the actor receive from the computer system?
        <answer>
        </answer>
      </question>
      <question>What information does the actor receive from other actors?
        <answer>
        </answer>
      </question>

    <category>What are the results of this operation?</category>
      <question>What happens as a result of this operation?
        <answer>
        </answer>
      </question>
      <question>How does data change internally or externally to the system?
        <answer>
        </answer>
      </question>
      <question>What physical changes occur?
        <answer>
        </answer>
      </question>
      <question>What previous values should be retained for historical reference?
        <answer>
        </answer>
      </question>

    <category>What algorithms or processing considerations are involved?</category>
      <question>What calculations are involved in the action?
        <answer>
        </answer>
      </question>
      <question>What special processing (e.g. sorting, matching, schedules) is involved in the action?
        <answer>
        </answer>
      </question>
      <question>How is data transformed or changed?
        <answer>
        </answer>
      </question>
      <question>What data formats are used?
        <answer>
        </answer>
      </question>
      <question>What are the sources for algorithms or schedules (e.g. regulating agencies, professional organizations)?
        <answer>
        </answer>
      </question>

    <category>Should this action be recorded as an event?</category>
      <question>Is this action time sensitive, or does it relate to other time sensitive actions?
        <answer>
        </answer>
      </question>
      <question>Does this action "start the clock?"
        <answer>
        </answer>
      </question>
      <question>Would the recording of this action assist in unrelated actions?
        <answer>
        </answer>
      </question>
      <question>Do performance constraints apply which should be measured for conformance?
        <answer>
        </answer>
      </question>

  </survey>
  </useCase>

  <domain name='Project'>
    <attribute name='Id' type='long' />
    <attribute name='Name' type='String' />
  </domain>

  <domainMap name='createProject' stereotype='callableStatement'>
    <argument name='aProject' type='Project' />
    <callableStatement>BEGIN INSERT INTO project (name) VALUES (?) RETURNING id INTO ?; END;</callableStatement>
    <setStatement>lCallableStatement.setString(1, aProject.getName());</setStatement>
  </domainMap>

  <domainMap name='readProjectId' stereotype='executeStatement'>
    <argument name='aId' type='long' />
    <executeStatement>"SELECT * FROM project WHERE id = " + aId</executeStatement>
  </domainMap>

  <domainMap name='readProjectWhereIdIn' stereotype='executeStatement'>
    <argument name='aWhere' type='String' />
    <executeStatement>"SELECT * FROM project WHERE id IN (" + aWhere + ") ORDER BY name"</executeStatement>
  </domainMap>

  <domainMap name='updateProject' stereotype='preparedStatement'>
    <argument name='aProject' type='Project' />
    <preparedStatement>UPDATE project SET name=? WHERE id=" + aProject.getId()</preparedStatement>
    <setStatement>lPreparedStatement.setString(1, aProject.getName());</setStatement>
  </domainMap>

  <domainMap name='deleteProjectId' stereotype='executeStatement'>
    <argument name='aId' type='long' />
    <executeStatement>"DELETE project WHERE id=" + aId</executeStatement>    
  </domainMap>

  <domainMap name='deleteProjectWhereIdIn' stereotype='executeStatement'>
    <argument name='aWhere' type='String' />
    <executeStatement>"DELETE project WHERE id IN (" + aWhere + ")"</executeStatement>    
  </domainMap>

  <table name='project'>
    <attribute name='id' type='number(10,0)' nullable='false' />
    <attribute name='name' type='varchar2(64)' nullable='true' />
    <constraint name='project_id_pk' stereotype='primary' fields='(id)' />
    <sequence name='project_id_seq' stereotype='sequence' />
  </table>

</domainModel>
